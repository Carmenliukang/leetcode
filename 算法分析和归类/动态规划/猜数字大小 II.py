#!/usr/bin/env python
# -*- coding: utf-8 -*-


# æˆ‘ä»¬æ­£åœ¨çŽ©ä¸€ä¸ªçŒœæ•°æ¸¸æˆï¼Œæ¸¸æˆè§„åˆ™å¦‚ä¸‹ï¼š
#
#  æˆ‘ä»Ž 1 åˆ° n ä¹‹é—´é€‰æ‹©ä¸€ä¸ªæ•°å­—ï¼Œä½ æ¥çŒœæˆ‘é€‰äº†å“ªä¸ªæ•°å­—ã€‚
#
#  æ¯æ¬¡ä½ çŒœé”™äº†ï¼Œæˆ‘éƒ½ä¼šå‘Šè¯‰ä½ ï¼Œæˆ‘é€‰çš„æ•°å­—æ¯”ä½ çš„å¤§äº†æˆ–è€…å°äº†ã€‚
#
#  ç„¶è€Œï¼Œå½“ä½ çŒœäº†æ•°å­— x å¹¶ä¸”çŒœé”™äº†çš„æ—¶å€™ï¼Œä½ éœ€è¦æ”¯ä»˜é‡‘é¢ä¸º x çš„çŽ°é‡‘ã€‚ç›´åˆ°ä½ çŒœåˆ°æˆ‘é€‰çš„æ•°å­—ï¼Œä½ æ‰ç®—èµ¢å¾—äº†è¿™ä¸ªæ¸¸æˆã€‚
#
#  ç¤ºä¾‹:
#
#  n = 10, æˆ‘é€‰æ‹©äº†8.
#
# ç¬¬ä¸€è½®: ä½ çŒœæˆ‘é€‰æ‹©çš„æ•°å­—æ˜¯5ï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ ï¼Œæˆ‘çš„æ•°å­—æ›´å¤§ä¸€äº›ï¼Œç„¶åŽä½ éœ€è¦æ”¯ä»˜5å—ã€‚
# ç¬¬äºŒè½®: ä½ çŒœæ˜¯7ï¼Œæˆ‘å‘Šè¯‰ä½ ï¼Œæˆ‘çš„æ•°å­—æ›´å¤§ä¸€äº›ï¼Œä½ æ”¯ä»˜7å—ã€‚
# ç¬¬ä¸‰è½®: ä½ çŒœæ˜¯9ï¼Œæˆ‘å‘Šè¯‰ä½ ï¼Œæˆ‘çš„æ•°å­—æ›´å°ä¸€äº›ï¼Œä½ æ”¯ä»˜9å—ã€‚
#
# æ¸¸æˆç»“æŸã€‚8 å°±æ˜¯æˆ‘é€‰çš„æ•°å­—ã€‚
#
# ä½ æœ€ç»ˆè¦æ”¯ä»˜ 5 + 7 + 9 = 21 å—é’±ã€‚
#
#
#  ç»™å®š n â‰¥ 1ï¼Œè®¡ç®—ä½ è‡³å°‘éœ€è¦æ‹¥æœ‰å¤šå°‘çŽ°é‡‘æ‰èƒ½ç¡®ä¿ä½ èƒ½èµ¢å¾—è¿™ä¸ªæ¸¸æˆã€‚
#  Related Topics æ•°å­¦ åŠ¨æ€è§„åˆ’ åšå¼ˆ ðŸ‘ 283 ðŸ‘Ž 0

# https://leetcode-cn.com/problems/guess-number-higher-or-lower-ii/

"""
# è§£é¢˜æ–¹æ³•


1.ä¸ºä»€ä¹ˆä½¿ç”¨åŠ¨æ€è§„åˆ’ï¼Œä¸ä½¿ç”¨äºŒåˆ†ï¼Ÿ
åŠ¨æ€è§„åˆ’ä¸ŽäºŒåˆ†çš„åŒºåˆ«åœ¨å“ªé‡Œå‘¢ï¼Ÿ
ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„å¥½å¤„åœ¨äºŽæˆ‘å¯ä»¥ç©·ä¸¾æ‰€æœ‰çš„æƒ…å†µï¼Œå¯¹äºŽè¿™ä¸ªé¢˜æ¥è¯´ï¼Œå°±æ˜¯æŒ‡åŠ¨æ€è§„åˆ’çš„æ–¹æ³•å¯ä»¥æŠŠæ¯ä¸€ä¸ªæ•°å­—éƒ½å½“ä½œåˆ†å‰²ç‚¹ï¼Œè€ŒäºŒåˆ†åªèƒ½æŠŠä¸­é—´çš„æ•°å­—å½“ä½œåˆ†å‰²ç‚¹ã€‚
ä¸¾ä¸ªä¾‹å­ï¼š
å½“n=5ï¼š

åŠ¨æ€è§„åˆ’ï¼š1 2 3 4 5 åœ¨ç¬¬ä¸€æ¬¡çŒœæ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çŒœ1,2,3,4,5
äºŒåˆ†æŸ¥æ‰¾ï¼š1 2 3 4 5 åœ¨ç¬¬ä¸€æ¬¡çŒœæ•°æ—¶ï¼Œæˆ‘ä»¬åªèƒ½çŒœ3
ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åŠ¨æ€è§„åˆ’çŒœæ‰€æœ‰çš„æ•°å­—å‘¢ï¼Ÿ
å½“n=5ï¼Œå‡å¦‚æˆ‘ç¬¬ä¸€æ¬¡çŒœ3ï¼Œé‚£ä¹ˆéœ€è¦7ï¼›å‡å¦‚æˆ‘ç¬¬ä¸€æ¬¡çŒœ4ï¼Œåªéœ€è¦6.
å¾ˆæ˜¾ç„¶6æ‰æ˜¯æ­£ç¡®ç­”æ¡ˆï¼Œä½¿ç”¨äºŒåˆ†æ³•è™½ç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯æ˜¯é”™è¯¯çš„ã€‚æ‰€ä»¥æˆ‘ä½¿ç”¨åŠ¨æ€è§„åˆ’ç©·ä¸¾æ‰€æœ‰æƒ…å†µã€‚

2.å¯¹äºŽäºŒç»´æ•°ç»„dp[i][j]çš„ç†è§£
åŠ¨æ€è§„åˆ’éœ€è¦ä½¿ç”¨å†…å­˜å‚¨å­˜è®¡ç®—è¿‡çš„ç»“æžœï¼Œåœ¨è¿™é‡Œæˆ‘ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„dp[n+1][n+1]

å¯¹äºŽåŠ¨æ€è§„åˆ’æ¥è¯´ï¼Œéœ€è¦æ˜Žç™½dp[i][j]çš„å«ä¹‰ï¼Œæ‰€ä»¥æŽ¥ä¸‹æ¥æˆ‘å°è¯•è§£é‡Šdp[i][j]çš„å«ä¹‰:
dp[i][j]æ˜¯è¯´ä¾æ¬¡ä»¥ä»Žiåˆ°jçš„æ•°å­—ä½œä¸ºåˆ†å‰²ç‚¹(çŒœçš„æ•°)ï¼Œå¿…å®šèµ¢çš„æ¸¸æˆæ‰€ç”¨é’±çš„æœ€å°å€¼ã€‚
è¿™æ ·çœ‹èµ·æ¥ä¼¼ä¹Žå¾ˆéš¾ç†è§£ã€‚

(1)è§£é‡Šdp[1][1]:
dp[1][1]æ˜¯æŒ‡åªæœ‰ä¸€ä¸ªæ•°å­—1ï¼Œæˆ‘ä»¬ä»¥1ä½œä¸ºåˆ†å‰²ç‚¹(çŒœçš„æ•°)ï¼Œèµ¢å¾—æ¸¸æˆæ‰€ç”¨é’±çš„æœ€å°å€¼ï¼Œä¸€çœ‹å°±çŸ¥é“ï¼Œdp[1][1]=0ã€‚å› ä¸ºæˆ‘ä»¬åªèƒ½çŒœ1ï¼Œç­”æ¡ˆä¹Ÿåªèƒ½æ˜¯1ï¼Œä¸ç”¨èŠ±é’±

(2)è§£é‡Šdp[1][2]:
dp[1][2]æ˜¯æŒ‡åªæœ‰ä¸¤ä¸ªæ•°å­—1ï¼Œ2
æˆ‘ä»¬å…ˆä»¥1ä½œä¸ºåˆ†å‰²ç‚¹(çŒœçš„æ•°):

çŒœ1ï¼š
ç­”æ¡ˆæ˜¯1ï¼ŒèŠ±è´¹0å…ƒ
ç­”æ¡ˆæ˜¯2ï¼ŒèŠ±è´¹1å…ƒ
å¿…å®šèµ¢å¾—æ¸¸æˆï¼Œæœ€å¤šèŠ±è´¹1å…ƒ
æˆ‘ä»¬å†ä»¥2ä½œä¸ºåˆ†å‰²ç‚¹(çŒœçš„æ•°):

çŒœ2ï¼š
ç­”æ¡ˆæ˜¯1ï¼ŒèŠ±è´¹2å…ƒ
ç­”æ¡ˆæ˜¯2ï¼ŒèŠ±è´¹0å…ƒ
å¿…å®šèµ¢å¾—æ¸¸æˆï¼Œæœ€å¤šèŠ±è´¹2å…ƒ
ç»¼ä¸Šï¼Œåªè¦è¿›å…¥[1,2]è¿™ä¸ªåŒºé—´ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡çŒœ1ï¼Œåªè¦èŠ±è´¹1å…ƒï¼Œå¿…å®šå¯ä»¥èµ¢å¾—æ¸¸æˆï¼ˆå‡å¦‚çœ‹ä¸æ‡‚ï¼Œå†çœ‹ä¸€æ¬¡ï¼Œç»†ç»†çš„å“ï¼‰
æ‰€ä»¥dp[1][2]=1(åªè¦èŠ±1å…ƒå¿…å®šèµ¢å¾—æ¸¸æˆï¼Œå½“ç¬¬ä¸€æ¬¡çŒœ1æ—¶)

(3)è§£é‡Šdp[2][3]:
dp[2][3]æ˜¯æŒ‡åªæœ‰ä¸¤ä¸ªæ•°å­—2ï¼Œ3

æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯ä»Ž1å¼€å§‹å‘¢ï¼Ÿ(æ˜Žç™½çš„ä¸ç”¨çœ‹)
æ¯”å¦‚n=3ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡çŒœäº†1ï¼Œä½†æ˜¯ç­”æ¡ˆæ˜¯2æˆ–è€…3ï¼Œåæ­£ä¸æ˜¯1ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯è¦åˆ°[2,3]åŒºé—´æ¥å¯»æ‰¾ç­”æ¡ˆï¼Œå³æ±‚
dp[2][3]

æˆ‘ä»¬å…ˆä»¥2ä½œä¸ºåˆ†å‰²ç‚¹(çŒœçš„æ•°):

çŒœ2ï¼š
ç­”æ¡ˆæ˜¯2ï¼ŒèŠ±è´¹0å…ƒ
ç­”æ¡ˆæ˜¯3ï¼ŒèŠ±è´¹2å…ƒ
å¿…å®šèµ¢å¾—æ¸¸æˆï¼Œæœ€å¤šèŠ±è´¹2å…ƒ
æˆ‘ä»¬å†ä»¥3ä½œä¸ºåˆ†å‰²ç‚¹(çŒœçš„æ•°):

çŒœ3ï¼š
ç­”æ¡ˆæ˜¯2ï¼ŒèŠ±è´¹3å…ƒ
ç­”æ¡ˆæ˜¯3ï¼ŒèŠ±è´¹0å…ƒ
å¿…å®šèµ¢å¾—æ¸¸æˆï¼Œæœ€å¤šèŠ±è´¹3å…ƒ
ç»¼ä¸Šï¼Œåªè¦è¿›å…¥[2,3]è¿™ä¸ªåŒºé—´ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡çŒœ2ï¼Œåªè¦èŠ±è´¹2å…ƒï¼Œå¿…å®šå¯ä»¥èµ¢å¾—æ¸¸æˆ
æ‰€ä»¥dp[2][3]=2(åªè¦èŠ±2å…ƒå¿…å®šèµ¢å¾—æ¸¸æˆï¼Œå½“ç¬¬ä¸€æ¬¡çŒœ2æ—¶)

(4)è§£é‡Šdp[1][3]:
dp[1][3]æ˜¯æŒ‡åªæœ‰ä¸‰ä¸ªæ•°å­—1ï¼Œ2ï¼Œ3
æˆ‘ä»¬å…ˆä»¥1ä½œä¸ºåˆ†å‰²ç‚¹(çŒœçš„æ•°):

çŒœ1ï¼š
ç­”æ¡ˆæ˜¯1ï¼ŒèŠ±è´¹0å…ƒ
ç­”æ¡ˆæ˜¯2æˆ–è€…3ï¼Œè¿™ä¸ªæ—¶å€™ä¼šè¿›å…¥å¦ä¸€ä¸ªåŒºé—´[2,3]ï¼ŒèŠ±è´¹1+dp[2][3]å…ƒ
å¿…å®šèµ¢å¾—æ¸¸æˆï¼Œæœ€å¤šèŠ±è´¹max(0,1+dp[2][3])å…ƒ
æˆ‘ä»¬å†ä»¥2ä½œä¸ºåˆ†å‰²ç‚¹(çŒœçš„æ•°):

çŒœ2ï¼š
ç­”æ¡ˆæ˜¯1ï¼ŒèŠ±è´¹2+dp[1][1]=2+0=2å…ƒ
ç­”æ¡ˆæ˜¯2ï¼ŒèŠ±è´¹0å…ƒ
ç­”æ¡ˆæ˜¯3ï¼ŒèŠ±è´¹2+dp[3][3]=2+0=2å…ƒ
å¿…å®šèµ¢å¾—æ¸¸æˆï¼Œæœ€å¤šèŠ±è´¹max(0,2+dp[1][1],2+dp[3][3])å…ƒ
æˆ‘ä»¬æœ€åŽä»¥3ä½œä¸ºåˆ†å‰²ç‚¹(çŒœçš„æ•°):

çŒœ3ï¼š
ç­”æ¡ˆæ˜¯1æˆ–è€…2,èŠ±è´¹3+dp[1][2]å…ƒ
ç­”æ¡ˆæ˜¯3ï¼ŒèŠ±è´¹0å…ƒ
å¿…å®šèµ¢å¾—æ¸¸æˆï¼Œæœ€å¤šèŠ±è´¹max(0,3+dp[1][2])å…ƒ
ç»¼ä¸Šï¼Œåªè¦è¿›å…¥[1][3]è¿™ä¸ªåŒºé—´ï¼Œæˆ‘ä»¬åªè¦èŠ±è´¹min( max(0,1+dp[2][3]) , max(0,2+dp[1][1],2+dp[3][3]) , max(0,3+dp[1][2]) )å…ƒå¿…å®šå¯ä»¥èµ¢çš„æ¸¸æˆ
è€Œdp[1][3]ä¹Ÿå°±ç­‰äºŽé‚£ä¸ªminçš„å€¼ã€‚

å¯ä»¥å‘çŽ°ï¼Œåªè¦æ‰¾åˆ°dp[1][n]å³å¯ã€‚
(å‡å¦‚ä¸èƒ½æ˜Žç™½dp[i][j]å¯ä»¥è¿”å›žä¸Šé¢å†…å®¹çœ‹ä¾‹å­ï¼Œæ˜Žç™½åŽå†å¾€ä¸‹é˜…è¯»)

3.çŠ¶æ€è½¬ç§»æ–¹ç¨‹
çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ€Žä¹ˆå†™å‘¢ï¼Ÿ
    çœ‹ç¬¬4ä¸ªä¾‹å­ï¼Œdp[1][3]æˆ‘ä»¬å°±å¯ä»¥å‘çŽ°ï¼š
    å¯¹äºŽæ¯ä¸€ä¸ªåˆ†å‰²ç‚¹ï¼Œæˆ‘ä»¬å–å®ƒå·¦å³ä¸¤è¾¹åŒºé—´çš„æœ€å¤§å€¼åŠ ä¸Šåˆ†å‰²ç‚¹æœ¬èº«ä½œä¸ºå–æ­¤åˆ†å‰²ç‚¹çš„dp[i][j]å€¼
    å¯¹äºŽæ¯ä¸€ä¸ªåŒºé—´ï¼Œæˆ‘ä»¬å–æ‰€æœ‰åˆ†å‰²ç‚¹çš„dp[i][j]çš„æœ€å°å€¼ä½œä¸ºdp[i][j]çš„çœŸæ­£çš„å€¼
    ç‰¹åˆ«åœ°ï¼Œå¯¹äºŽä»¥iä½œä¸ºåˆ†å‰²ç‚¹çš„dp[i][j]ï¼Œåªå–iå³è¾¹çš„åŒºé—´ï¼›å¯¹äºŽä»¥jä½œä¸ºåˆ†å‰²ç‚¹çš„dp[i][j]ï¼Œåªå–jå·¦è¾¹çš„åŒºé—´

è¿™ä¸ªæˆ‘è§‰å¾—çœ‹æ‡‚dp[1][3]ä¸éš¾ç†è§£ï¼Œè¦æ˜¯ç†è§£ä¸äº†çš„è¯ï¼Œæˆ‘è¿™æ ·è§£é‡Šä¸€ä¸‹(æ˜Žç™½çš„ä¸ç”¨çœ‹)ï¼š

    i i+1 i+2 ... ... j-2 j-1 j
    ä»¥i+1ä¸ºåˆ†å‰²ç‚¹å¯¹åº”çš„ï¼šdp1=max(dp[i][i],dp[i+2][j])+i+1
    ä»¥j-1ä¸ºåˆ†å‰²ç‚¹å¯¹åº”çš„: dp2=max(dp[i][j-2],dp[j][j])+j-1
    ç‰¹åˆ«åœ°,ä»¥iä¸ºåˆ†å‰²ç‚¹ï¼šdp0=i+dp[i+1][j];ä»¥jä¸ºåˆ†å‰²ç‚¹: dp3=j+dp[i][j-1]
    dp[i][j]=min(dp0,dp1,dp2,dp3)

4.æ•°ç»„å¡«å……
ç»™å‡ºä¸€ä¸ªdpäºŒç»´æ•°ç»„æ¥ç”¨ä»£ç å¡«å……å®ƒï¼Œâ€œ\â€è¡¨ç¤ºæ­£æ— ç©·

(1)åˆå§‹åŒ–ï¼š         (2)æ˜“çŸ¥dp[i][i]=0
| \ \ \ \ |         | 0 \ \ \ |
| \ \ \ \ |         | \ 0 \ \ |
| \ \ \ \ |         | \ \ 0 \ |
| \ \ \ \ |         | \ \ \ 0 |
æŽ¥ä¸‹æ¥è¦è€ƒè™‘æ€Žä¹ˆå¡«å……çŸ©é˜µä»¥å¾—åˆ°dp[1][n]:
å¾ˆå®¹æ˜“æˆ‘ä»¬å‘çŽ°å¯ä»¥ç”¨ä¸€ä¸ªä½ç½®å·¦è¾¹å’Œä¸‹è¾¹åœ°æ•°æ®æ¥è®¡ç®—å®ƒæœ¬èº«ï¼Œå› æ­¤å¯ä»¥è¿™æ ·å¡«å……

(3)å¡«å……1åˆ—ï¼š
| 0 1 \ \ |  dp[1][2]è®¡ç®—æ­¥éª¤å‘ä¸Šçœ‹
| \ 0 \ \ |
| \ \ 0 \ |
| \ \ \ 0 |

(4)å†å¡«å……1åˆ—ï¼š
| 0 1 x \ |  dp[1][3]è®¡ç®—æ­¥éª¤å‘ä¸Šçœ‹
| \ 0 2 \ |  dp[2][3]è®¡ç®—æ­¥éª¤å‘ä¸Šçœ‹(å…ˆå¡«å……)
| \ \ 0 \ |
| \ \ \ 0 |

(5)å†å¡«å……æœ€åŽä¸€åˆ—:
| 0 1 x x |  dp[1][4]è®¡ç®—æ­¥éª¤å‘ä¸Šçœ‹
| \ 0 2 x |  dp[2][4]è®¡ç®—æ­¥éª¤å‘ä¸Šçœ‹(ç„¶åŽå¡«å……)
| \ \ 0 x |  dp[3][4]è®¡ç®—æ­¥éª¤å‘ä¸Šçœ‹(å…ˆå¡«å……)
| \ \ \ 0 |
xéƒ½æ˜¯å› ä¸ºæˆ‘æ‡’å¾—ç®—äº†... ... å·ä¸ªæ‡’ï¼Œæœ‰å…´è¶£å¯ä»¥è‡ªå·±ç®—

ä½œè€…ï¼šsmilyt_
é“¾æŽ¥ï¼šhttps://leetcode-cn.com/problems/guess-number-higher-or-lower-ii/solution/dong-tai-gui-hua-c-you-tu-jie-by-zhang-xiao-tong-2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒï¼Œéžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚

"""
# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def getMoneyAmount(self, n: int) -> int:
        return int((n + 1) * n / 2)

# leetcode submit region end(Prohibit modification and deletion)
